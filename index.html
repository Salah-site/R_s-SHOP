<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ø£ÙØ¶Ù„ Ø¹Ø±ÙˆØ¶ Ø´Ø­Ù†</title>
  <style>
    :root{
      --bg:#07080a; --card:#0f1720; --muted:#94a3b8; --accent:#06b6d4;
      --accent-2:#38bdf8; --success:#16a34a; --danger:#ef4444;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;font-family:Inter, system-ui, Arial, "Segoe UI", "Noto Sans Arabic";
      background:linear-gradient(180deg,#03050a 0%, #071024 100%);
      color:#e6eef8;
    }
    header{padding:14px 20px;display:flex;align-items:center;justify-content:space-between;position:relative;border-bottom:1px solid rgba(255,255,255,0.03);}
    .logo{display:flex;gap:12px;align-items:center}
    .logo .mark{width:48px;height:48px;border-radius:10px;background:linear-gradient(135deg,#051428,#082033);display:flex;align-items:center;justify-content:center;font-weight:800;color:var(--accent);font-size:20px}
    h1{margin:0;font-size:18px}
    .note{font-size:13px;color:var(--muted)}
    nav{display:flex;gap:10px;align-items:center}
    nav button{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted);padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:700}
    /* coins */
    .coins {position:absolute;left:50%;transform:translateX(-50%);top:12px;background:linear-gradient(90deg,var(--accent-2),var(--accent));color:#041226;padding:8px 14px;border-radius:999px;font-weight:900;display:flex;gap:8px;align-items:center;box-shadow:0 8px 22px rgba(6,182,212,0.08);transition:transform .15s,box-shadow .15s}
    .coins.pulse{transform:translateX(-50%) scale(1.06);box-shadow:0 14px 36px rgba(6,182,212,0.18)}
    .coins .icon{font-size:16px}
    .coins .value{font-size:15px}
    main{max-width:1100px;margin:48px auto;padding:0 18px}
    .sections{display:grid;grid-template-columns:1fr;gap:18px}
    .section{background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));border-radius:12px;padding:16px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 6px 24px rgba(2,6,23,0.6)}
    .section h2{margin:0 0 8px 0;color:#fff}
    .products{display:flex;flex-wrap:wrap;gap:12px;justify-content:flex-start}
    .prod{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:14px;border-radius:12px;width:260px;border:1px solid rgba(255,255,255,0.02);display:flex;flex-direction:column;gap:10px;transition:transform .18s ease,box-shadow .18s ease}
    .prod:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(2,6,23,0.6)}
    .prod img{width:100%;height:140px;object-fit:cover;border-radius:8px}
    .title{font-weight:800}
    .price{font-weight:800;color:var(--accent)}
    .actions{display:flex;gap:8px;margin-top:auto}
    .btn{padding:10px;border-radius:8px;border:none;cursor:pointer;font-weight:800}
    .btn-primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#041226;box-shadow:0 8px 24px rgba(6,182,212,0.08)}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}
    .cart-btn{position:fixed;left:18px;bottom:18px;background:linear-gradient(180deg,var(--accent-2),var(--accent));color:#051024;padding:14px;border-radius:50%;box-shadow:0 10px 30px rgba(6,182,212,0.12);cursor:pointer;z-index:9999;border:none;font-size:18px}
    .cart-side{position:fixed;left:0;top:0;bottom:0;width:380px;background:linear-gradient(180deg,#071428,#041425);transform:translateX(-110%);transition:transform .34s cubic-bezier(.2,.9,.2,1);box-shadow:8px 0 30px rgba(2,6,23,0.6);padding:18px;z-index:9998;border-right:1px solid rgba(255,255,255,0.03);display:flex;flex-direction:column}
    .cart-side.open{transform:translateX(0)}
    .cart-item{display:flex;gap:12px;align-items:center;border-bottom:1px solid rgba(255,255,255,0.03);padding:12px 0}
    .cart-item img{width:64px;height:64px;border-radius:10px;object-fit:cover}
    .cart-footer{margin-top:auto}
    .small-note{font-size:13px;color:var(--muted)}
    .modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(2,6,23,0.6);z-index:10000;opacity:0;pointer-events:none;transition:opacity .22s}
    .modal.open{opacity:1;pointer-events:auto}
    .dialog{background:linear-gradient(180deg,#071828,#041123);padding:18px;border-radius:14px;width:520px;max-width:94%;border:1px solid rgba(255,255,255,0.04);color:#e6eef8;transform:translateY(12px);transition:transform .26s;box-shadow:0 18px 40px rgba(2,6,23,0.6)}
    .modal.open .dialog{transform:translateY(0)}
    .dialog h3{margin:0 0 8px 0;font-size:18px}
    .input, select, textarea{width:100%;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;font-size:15px}
    label{display:block;margin-bottom:6px;font-weight:800}
    .field{margin-bottom:12px}
    /* free offer */
    .free-offer-wrap{display:flex;align-items:center;justify-content:center;padding:30px 0}
    .free-offer{width:640px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:14px;padding:18px;border:1px solid rgba(255,255,255,0.03);display:flex;gap:14px;align-items:center;box-shadow:0 12px 36px rgba(2,6,23,0.55)}
    .free-offer img{width:200px;height:140px;object-fit:cover;border-radius:10px}
    .free-offer .info{flex:1}
    .free-offer .title{font-weight:900;font-size:18px;margin-bottom:6px}
    .free-offer .desc{color:var(--muted);margin-bottom:8px}
    .free-offer .price{font-weight:900;color:var(--accent);margin-bottom:8px}
    /* green buy modal specifics */
    .green-modal .dialog{background:linear-gradient(180deg,#0b3b1f,#083019);border:1px solid rgba(255,255,255,0.03)}
    .green-modal .confirm{background:linear-gradient(90deg,#16a34a,#22c55e);color:#02120a}
    footer{padding:18px;text-align:center;color:var(--muted);margin-top:20px}
    @media(max-width:740px){ .products{justify-content:center} .prod{width:100%} .cart-side{width:100%} .dialog{width:94%} .free-offer{flex-direction:column;align-items:stretch} .free-offer img{width:100%;height:200px} .coins{left:auto;right:18px;transform:none} }
  </style>

  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script>emailjs.init('H1UCQ3TNmVxTTUxaJ');</script>
</head>
<body>
<header>
  <div class="logo">
    <div class="mark">S</div>
    <div>
      <h1>Ø£ÙØ¶Ù„ Ø¹Ø±ÙˆØ¶ Ø´Ø­Ù†</h1>
      <div class="note">Ø¹Ø±ÙˆØ¶ Ø¢Ù…Ù†Ø© ÙˆØ³Ø±ÙŠØ¹Ø©</div>
    </div>
  </div>

  <div id="coinsBox" class="coins" title="Ø±ØµÙŠØ¯ Ø§Ù„Ø¹Ù…Ù„Ø§Øª">
    <div class="icon">ğŸ’°</div>
    <div class="value" id="coinsValue">0</div>
  </div>

  <nav>
    <button id="openFreeOffers">Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠØ©</button>
    <button id="openRedeem">Ø§Ø³ØªØ±Ø¯Ø§Ø¯ ÙƒÙˆØ¯ Ø§Ù„Ø¹Ù…Ù„Ø©</button>
  </nav>
</header>

<main>
  <div id="mainSections" class="sections">
    <!-- TikTok Section -->
    <section class="section" id="tiktokSection">
      <h2>Ù‚Ø³Ù… Ø´Ø­Ù† ØªÙŠÙƒ ØªÙˆÙƒ</h2>
      <div class="products">
        <div class="prod" data-id="tt-coins">
          <img src="https://i.pinimg.com/1200x/24/ee/ed/24eeedde0b8d46721790c6da4a50b1a3.jpg" alt="Ø¹Ù…Ù„Ø§Øª ØªÙŠÙƒ ØªÙˆÙƒ">
          <div class="title">Ø¹Ù…Ù„Ø§Øª ØªÙŠÙƒ ØªÙˆÙƒ</div>
          <div class="small-note">Ø§Ø®ØªØ± Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©</div>
          <div class="price">20 Ø¹Ù…Ù„Ø© â€” 150 Ø¯.Ø¬</div>
          <div class="actions"><button class="btn btn-primary order-btn" data-product="coins">Ø·Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬</button></div>
        </div>

        <div class="prod" data-id="tt-followers">
          <img src="https://i.pinimg.com/736x/a8/87/0c/a8870c90c6302822beefe6795de9ca93.jpg" alt="Ù…ØªØ§Ø¨Ø¹ÙŠÙ† ØªÙŠÙƒ ØªÙˆÙƒ">
          <div class="title">Ù…ØªØ§Ø¨Ø¹ÙŠÙ† ØªÙŠÙƒ ØªÙˆÙƒ</div>
          <div class="small-note">100 Ù…ØªØ§Ø¨Ø¹ â€” 300 Ø¯.Ø¬ (Ø®ØµÙ…: 1000 Ù…ØªØ§Ø¨Ø¹ = 2500 Ø¯.Ø¬)</div>
          <div class="price">Ø§Ø¨Ø¯Ø£ Ù…Ù† 100 Ù…ØªØ§Ø¨Ø¹</div>
          <div class="actions"><button class="btn btn-primary order-btn" data-product="followers">Ø·Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬</button></div>
        </div>

        <div class="prod" data-id="tt-views">
          <img src="https://i.pinimg.com/736x/54/47/b1/5447b18f3ff226459b66481a3a684808.jpg" alt="Ù…Ø´Ø§Ù‡Ø¯ÙŠÙ† ØªÙŠÙƒ ØªÙˆÙƒ">
          <div class="title">Ù…Ø´Ø§Ù‡Ø¯ÙŠÙ† ØªÙŠÙƒ ØªÙˆÙƒ</div>
          <div class="small-note">1000 Ù…Ø´Ø§Ù‡Ø¯Ø© â€” 100 Ø¯.Ø¬ (Ø®ØµÙ…: 5000 Ù…Ø´Ø§Ù‡Ø¯Ø© = 500 Ø¯.Ø¬)</div>
          <div class="price">Ø§Ø®ØªØ± Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª</div>
          <div class="actions"><button class="btn btn-primary order-btn" data-product="views">Ø·Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬</button></div>
        </div>
      </div>
    </section>

   <!-- Discord Section -->
<section class="section" id="discordSection">
  <h2>Ù‚Ø³Ù… Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯</h2>
  <div class="products">

    <div class="prod" data-id="dc-nitro-plus">
      <img src="https://i.pinimg.com/1200x/cb/78/c0/cb78c09f3e7c9a41fe174ca2b5251b8a.jpg" alt="Nitro Plus">
      <div class="title">Ù†ÙŠØªØ±Ùˆ Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ (Ø´Ù‡Ø± + Ø¶Ù…Ø§Ù†)</div>
      <div class="price">Ø§Ù„Ø³Ø¹Ø±: 2500 Ø¯.Ø¬</div>
      <div class="actions">
        <button class="btn btn-primary add-cart" 
                data-id="nitro-plus" 
                data-price="2500">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
      </div>
    </div>

    <div class="prod" data-id="dc-nitro-basic">
      <img src="https://i.pinimg.com/1200x/35/33/87/353387addd7df0773560eba61a765820.jpg" alt="Nitro Basic">
      <div class="title">Ù†ÙŠØªØ±Ùˆ Ø¨ÙŠØ³Ùƒ</div>
      <div class="price">Ø§Ù„Ø³Ø¹Ø±: 1200 Ø¯.Ø¬</div>
      <div class="actions">
        <button class="btn btn-primary add-cart" 
                data-id="nitro-basic" 
                data-price="1200">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
      </div>
    </div>

    <div class="prod" data-id="dc-accounts">
      <img src="https://i.pinimg.com/736x/ed/cb/56/edcb56a35853c07a7ba6348343470526.jpg" alt="Ø­Ø³Ø§Ø¨Ø§Øª Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯">
      <div class="title">Ø­Ø³Ø§Ø¨Ø§Øª Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯</div>
      <div class="small-note">Ø§Ø®ØªØ± Ø¹Ù…Ø± Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯Ù‡</div>
      <div class="price">Ø§Ø¨ØªØ¯Ø§Ø¡Ù‹ Ù…Ù† 1000 Ø¯.Ø¬ Ù„Ù„Ø³Ù†Ø©</div>
      <div class="actions">
        <button class="btn btn-primary order-btn" 
                data-product="discord-account">Ø·Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬</button>
      </div>
    </div>

  </div>
</section>


    <!-- Free Offers Section -->
    <section class="section" id="freeOffersSection" style="display:none">
      <!-- close X (RTL: put it on the left visually) -->
      <button id="closeFreeOffers" style="float:left;background:none;border:none;color:var(--danger);font-size:24px;cursor:pointer;margin-bottom:10px">âœ•</button>
      <h2>Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠØ©</h2>
      <div class="free-offer-wrap">
        <div class="free-offer">
          <img src="https://i.pinimg.com/736x/8c/8d/ed/8c8dedb022b5552bab8a095e424eb43b.jpg" alt="Ø­Ø³Ø§Ø¨ Ø³ØªÙŠÙ…">
          <div class="info">
            <div class="title">Ø­Ø³Ø§Ø¨ Ø³ØªÙŠÙ… (Ù„Ø¹Ø¨Ø© Ù…Ø¬Ù‡ÙˆÙ„Ø©)</div>
            <div class="desc">Ø¹Ø±Ø¶ Ù…Ø¬Ø§Ù†ÙŠ Ù‚Ø§Ø¨Ù„ Ù„Ù„Ø´Ø±Ø§Ø¡ Ø¨Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹.</div>
            <div class="price">Ø§Ù„Ø³Ø¹Ø±: <span style="font-weight:900">200</span> Ø¹Ù…Ù„Ø©</div>
            <div style="display:flex;gap:8px;margin-top:12px">
              <button id="buyFreeOffer" class="btn btn-primary">Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø±Ø¶</button>
              <button id="followTiktok" class="btn btn-ghost">Ù…ØªØ§Ø¨Ø¹Ø© ØªÙŠÙƒ ØªÙˆÙƒ @pm_sx (ÙƒØ³Ø¨ 200 Ø¹Ù…Ù„Ø©)</button>
              <button id="chargeCoins" class="btn btn-ghost">Ø´Ø­Ù† Ø§Ù„Ø¹Ù…Ù„Ø§Øª ğŸ’³</button>
            </div>
          </div>
        </div>
      </div>
    </section>

  </div>
</main>

<!-- Cart & panels (same as before) -->
<button id="cartBtn" class="cart-btn" title="Ø§Ù„Ø³Ù„Ø©">ğŸ›’</button>
<aside id="cartSide" class="cart-side" aria-hidden="true">
  <header style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px">
    <strong style="font-size:16px">Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</strong>
    <button id="closeCart" style="background:none;border:none;color:var(--danger);font-size:20px;cursor:pointer">âœ•</button>
  </header>
  <div id="cartBody" style="margin-top:6px;max-height:54vh;overflow:auto"></div>
  <div class="cart-footer" style="margin-top:12px;border-top:1px dashed rgba(255,255,255,0.04);padding-top:12px">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <div style="font-weight:800">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:</div>
      <div id="cartTotal" style="font-weight:900;color:var(--accent)">0 Ø¯.Ø¬</div>
    </div>
    <div style="display:flex;gap:8px;margin-top:10px">
      <button id="checkout" style="flex:1;padding:12px;border-radius:10px;border:none;background:var(--success);color:#02120a;font-weight:900;cursor:pointer">Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¯ÙØ¹</button>
      <button id="openPayInline" class="btn-ghost" style="padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);cursor:pointer">Ø¹Ø±Ø¶</button>
    </div>
    <div id="clearSlot" style="margin-top:10px"></div>
  </div>
</aside>

<!-- product modal -->
<div id="productModal" class="modal" aria-hidden="true">
  <div class="dialog" role="dialog" aria-modal="true">
    <button id="closeModal" style="float:left;background:none;border:none;color:var(--danger);font-size:22px;cursor:pointer">âœ•</button>
    <h3 id="modalTitle">Ø·Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬</h3>
    <img id="modalImg" src="" alt="" style="width:100%;height:160px;object-fit:cover;border-radius:8px;margin:8px 0">
    <div id="modalBody"></div>
    <div style="margin-top:12px;display:flex;gap:8px">
      <button id="confirmAdd" class="btn btn-primary">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
      <button id="cancel" class="btn btn-ghost">Ø¥Ù„ØºØ§Ø¡</button>
    </div>
  </div>
</div>

<!-- payModal -->
<div id="payModal" class="modal" aria-hidden="true">
  <div class="dialog" style="max-width:620px">
    <button onclick="closePayModal()" style="float:left;background:none;border:none;color:var(--danger);font-size:22px;cursor:pointer">âœ•</button>
    <h3 style="text-align:center;margin-bottom:6px">Ø§Ø³ØªÙ…Ø§Ø±Ø© Ø§Ù„Ø¯ÙØ¹</h3>
    <p class="small-note" style="text-align:center;margin-top:0;margin-bottom:12px">Ø¹Ø¨Ù‘ÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø§Ø´ Ù†ÙƒÙ…Ù„ÙˆØ§ Ø§Ù„Ø·Ù„Ø¨ â€” ÙƒÙ„Ø´ Ù…Ø±ØªØ¨ ÙˆÙˆØ§Ø¶Ø­ ğŸ‘‡</p>
    <form id="payForm" style="display:flex;flex-direction:column;gap:8px;margin-top:6px;">
      <div class="field"><label>ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…:</label><input class="input" name="name" id="userName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required></div>
      <div class="field"><label>ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</label><input class="input" name="email" id="userEmail" type="email" placeholder="example@mail.com" required></div>
      <div class="field"><label>ğŸ’³ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹:</label>
        <select class="input" name="method" id="payMethod" required>
          <option value="">Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</option>
          <option value="Flexy">ÙÙ„ÙŠÙƒØ³ÙŠ</option>
          <option value="CCP">CCP</option>
          <option value="FreeOffer">Ø¹Ø±Ø¶ Ù…Ø¬Ø§Ù†ÙŠ (Ø¹Ù…Ù„Ø§Øª)</option>
          <option value="CoinsCharge">Ø´Ø­Ù† Ø¹Ù…Ù„Ø§Øª (ÙÙ„ÙŠÙƒØ³ÙŠ)</option>
        </select>
      </div>
      <div class="field"><label>ğŸ›ï¸ Ø§Ù„Ù…Ù†ØªØ¬:</label><textarea id="prodName" class="input" rows="2" readonly></textarea></div>
      <div class="field"><label>ğŸ’° Ø§Ù„Ø³Ø¹Ø±:</label><input id="prodPrice" class="input" readonly></div>
      <div style="display:flex;gap:8px;margin-top:6px">
        <button type="submit" style="flex:1;padding:12px;border-radius:10px;border:none;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#041226;font-weight:900;cursor:pointer">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
        <button type="button" onclick="closePayModal()" class="btn btn-ghost" style="padding:12px;border-radius:10px">Ø¥Ù„ØºØ§Ø¡</button>
      </div>
    </form>
  </div>
</div>

<!-- charge modal (green) -->
<div id="chargeModal" class="modal green-modal" aria-hidden="true">
  <div class="dialog" style="max-width:560px">
    <button id="closeCharge" style="float:left;background:none;border:none;color:var(--danger);font-size:22px;cursor:pointer">âœ•</button>
    <h3 style="text-align:center;margin-bottom:6px">Ø¹Ø¨Ù‘Ø¦ R COINS Ø§Ù„Ø¢Ù† â€” Ø¹Ø¨Ø± ÙÙ„ÙŠÙƒØ³ÙŠ</h3>
    <div style="display:flex;gap:12px;align-items:center">
      <img src="https://i.pinimg.com/736x/20/2d/6a/202d6aed6af25e2afec26baea4b4cff4.jpg" alt="R COINS" style="width:160px;height:110px;object-fit:cover;border-radius:8px">
      <div style="flex:1">
        <div class="small-note">Ø§Ø®ØªØ± Ø§Ù„ÙƒÙ…ÙŠØ© (Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 1500 Ø¹Ù…Ù„Ø©)</div>
        <select id="chargeQty" class="input" style="margin-top:8px">
          <option value="150" data-price="100">150 Ø¹Ù…Ù„Ø© â€” 100 Ø¯.Ø¬</option>
          <option value="300" data-price="200">300 Ø¹Ù…Ù„Ø© â€” 200 Ø¯.Ø¬</option>
          <option value="600" data-price="400">600 Ø¹Ù…Ù„Ø© â€” 400 Ø¯.Ø¬</option>
          <option value="900" data-price="600">900 Ø¹Ù…Ù„Ø© â€” 600 Ø¯.Ø¬</option>
          <option value="1200" data-price="800">1200 Ø¹Ù…Ù„Ø© â€” 800 Ø¯.Ø¬</option>
          <option value="1500" data-price="1000">1500 Ø¹Ù…Ù„Ø© â€” 1000 Ø¯.Ø¬</option>
        </select>
        <div style="display:flex;gap:8px;margin-top:12px">
          <button id="confirmCharge" class="btn confirm">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹</button>
          <button id="cancelCharge" class="btn btn-ghost">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
        <p class="small-note" style="margin-top:10px">Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ù„Ø§ ØªÙØ¶Ø§Ù ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ â€” Ø¨Ø¹Ø¯ Ø§Ù„Ø¯ÙØ¹ Ø§Ø³ØªØ¹Ù…Ù„ "Ø§Ø³ØªØ±Ø¯Ø§Ø¯ ÙƒÙˆØ¯ Ø§Ù„Ø¹Ù…Ù„Ø©" ÙˆØ£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø¯ÙØ¹ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¹Ù…Ù„Ø§ØªÙƒ.</p>
      </div>
    </div>
  </div>
</div>

<!-- redeem modal -->
<div id="redeemModal" class="modal" aria-hidden="true">
  <div class="dialog" style="max-width:420px">
    <button id="closeRedeemModal" style="float:left;background:none;border:none;color:var(--danger);font-size:22px;cursor:pointer">âœ•</button>
    <h3 style="text-align:center;margin-bottom:6px">Ø§Ø³ØªØ±Ø¯Ø§Ø¯ ÙƒÙˆØ¯ Ø§Ù„Ø¹Ù…Ù„Ø©</h3>
    <p class="small-note" style="text-align:center;margin-top:0;margin-bottom:12px">Ø§Ø¯Ø®Ù„ Ø£Ø­Ø¯ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ù…ÙƒÙˆÙ†Ø© Ù…Ù† Ø´ÙŠÙØ±Ø© ÙˆØ§Ø­Ø¯Ø© </p>
    <div class="field"><label>Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯:</label><input id="redeemInput" class="input" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„ÙƒÙˆØ¯ Ù‡Ù†Ø§"></div>
    <div style="display:flex;gap:8px"><button id="redeemBtn" class="btn btn-primary" style="flex:1">ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙƒÙˆØ¯</button><button id="redeemCancel" class="btn btn-ghost">Ø¥Ù„ØºØ§Ø¡</button></div>
    <div id="redeemMsg" style="margin-top:10px;font-weight:800"></div>
  </div>
</div>

<footer>Â© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© â€” Ø£ÙØ¶Ù„ Ø¹Ø±ÙˆØ¶ Ø´Ø­Ù†</footer>

<script>
/* ========== Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ùˆ localStorage keys ========== */
const COINS_KEY = 'best_offers_coins_v1';
const FOLLOW_KEY = 'follow_reward_given_v1';
const USED_CODES_KEY = 'used_redeem_codes_v1';
const q = s => document.querySelector(s);

/* ========== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Øª ========== */
let coins = 0;
function initCoins(){
  const stored = localStorage.getItem(COINS_KEY);
  if(stored === null){ coins = 100; localStorage.setItem(COINS_KEY, String(coins)); }
  else coins = Number(stored) || 0;
  updateCoinsUI();
}
function updateCoinsUI(){
  const el = q('#coinsValue'); if(!el) return;
  el.textContent = coins;
  const box = q('#coinsBox'); box.classList.add('pulse');
  setTimeout(()=> box.classList.remove('pulse'), 350);
}
function changeCoins(delta){
  coins = Math.max(0, coins + delta);
  localStorage.setItem(COINS_KEY, String(coins));
  updateCoinsUI();
}
initCoins();

/* ========== sections control ========== */
function showSection(id){
  document.querySelectorAll('#mainSections .section').forEach(sec=>{
    sec.style.display = (sec.id === id ? '' : 'none');
  });
  window.scrollTo({ top: 0, behavior: 'smooth' });
}
q('#openFreeOffers').addEventListener('click', ()=> showSection('freeOffersSection'));
q('#openRedeem').addEventListener('click', ()=> openRedeemModal());

/* ========== cart (unchanged) ========== */
let cart = JSON.parse(localStorage.getItem('best_offers_cart')||'{}');
function formatPrice(v){ try{ return Number(v).toLocaleString('ar-EG') + ' Ø¯.Ø¬'; } catch(e){ return v + ' Ø¯.Ø¬'; } }
function renderCart(){
  const body = q('#cartBody'); body.innerHTML=''; const items = Object.values(cart);
  if(items.length===0){ body.innerHTML = '<div style="color:var(--muted);padding:12px;text-align:center">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</div>'; q('#cartTotal').textContent='0 Ø¯.Ø¬'; q('#cartBtn').textContent = 'ğŸ›’'; return; }
  let total = 0;
  items.forEach(it=>{ total += it.price * it.qty; const el = document.createElement('div'); el.className='cart-item';
    el.innerHTML = `<img src="${it.img}" alt="${it.title}"><div style="flex:1;text-align:left"><div style="font-weight:800">${it.title}</div><div class="small-note">${formatPrice(it.price)} Ã— ${it.qty}</div></div><div style="display:flex;flex-direction:column;gap:6px;align-items:center"><button style="background:none;border:none;color:var(--accent);cursor:pointer;font-weight:800" data-id="${it.id}" data-action="inc">+</button><div class="small-note">${it.qty}</div><button style="background:none;border:none;color:var(--danger);cursor:pointer;font-weight:800" data-id="${it.id}" data-action="dec">âˆ’</button></div>`; body.appendChild(el);
  });
  q('#cartTotal').textContent = formatPrice(total);
  q('#cartBtn').textContent = 'ğŸ›’ ' + Object.values(cart).reduce((s,i)=>s+i.qty,0);
  localStorage.setItem('best_offers_cart', JSON.stringify(cart));
}
function addToCartItem(id, title, price, img, qty=1){ if(cart[id]) cart[id].qty += qty; else cart[id] = {id, title, price:Number(price), img, qty}; renderCart(); }
q('#cartBody').addEventListener('click', function(e){ const btn = e.target.closest('button'); if(!btn) return; const id = btn.dataset.id; const action = btn.dataset.action; if(!id||!action) return; if(action==='inc'){ cart[id].qty +=1; renderCart(); } if(action==='dec'){ cart[id].qty -=1; if(cart[id].qty<=0) delete cart[id]; renderCart(); } });
q('#cartBtn').addEventListener('click', ()=>{ q('#cartSide').classList.add('open'); q('#cartSide').setAttribute('aria-hidden','false'); });
q('#closeCart').addEventListener('click', ()=>{ q('#cartSide').classList.remove('open'); q('#cartSide').setAttribute('aria-hidden','true'); });
document.querySelectorAll('.add-cart').forEach(btn=>btn.addEventListener('click', ()=>{ const id = btn.dataset.id; const price = Number(btn.dataset.price); const prod = btn.closest('.prod'); const title = prod.querySelector('.title').textContent; const img = prod.querySelector('img').src; addToCartItem(id,title,price,img,1); q('#cartSide').classList.add('open'); q('#cartSide').setAttribute('aria-hidden','false'); }));

/* product modal logic (unchanged) */
const productModal = q('#productModal'); const modalTitle = q('#modalTitle'); const modalImg = q('#modalImg'); const modalBody = q('#modalBody'); let currentProduct = null;
function openProductModal(productKey){
  currentProduct = productKey; modalBody.innerHTML = '';
  if(productKey === 'coins'){ modalTitle.textContent = 'Ø¹Ù…Ù„Ø§Øª ØªÙŠÙƒ ØªÙˆÙƒ'; modalImg.src = 'https://i.pinimg.com/1200x/24/ee/ed/24eeedde0b8d46721790c6da4a50b1a3.jpg'; modalBody.innerHTML = `<div class="small-note">Ø§Ø®ØªØ± Ø§Ù„ÙƒÙ…ÙŠØ©:</div><select id="qtySelect" class="input"><option value="20" data-price="150">20 Ø¹Ù…Ù„Ø© â€” 150 Ø¯.Ø¬</option><option value="50" data-price="320">50 Ø¹Ù…Ù„Ø© â€” 320 Ø¯.Ø¬</option><option value="100" data-price="600">100 Ø¹Ù…Ù„Ø© â€” 600 Ø¯.Ø¬</option></select>`; }
  else if(productKey === 'followers'){ modalTitle.textContent = 'Ù…ØªØ§Ø¨Ø¹ÙŠÙ† ØªÙŠÙƒ ØªÙˆÙƒ'; modalImg.src = 'https://i.pinimg.com/736x/a8/87/0c/a8870c90c6302822beefe6795de9ca93.jpg'; modalBody.innerHTML = `<div class="small-note">Ø§Ø®ØªØ± Ø§Ù„ÙƒÙ…ÙŠØ©:</div><select id="qtySelect" class="input"><option value="100" data-price="300">100 Ù…ØªØ§Ø¨Ø¹ â€” 300 Ø¯.Ø¬</option><option value="500" data-price="1400">500 Ù…ØªØ§Ø¨Ø¹ â€” 1400 Ø¯.Ø¬</option><option value="1000" data-price="2500">1000 Ù…ØªØ§Ø¨Ø¹ â€” 2500 Ø¯.Ø¬ (Ø®ØµÙ…)</option></select>`; }
  else if(productKey === 'views'){ modalTitle.textContent = 'Ù…Ø´Ø§Ù‡Ø¯ÙŠÙ† ØªÙŠÙƒ ØªÙˆÙƒ'; modalImg.src = 'https://i.pinimg.com/736x/54/47/b1/5447b18f3ff226459b66481a3a684808.jpg'; modalBody.innerHTML = `<div class="small-note">Ø§Ø®ØªØ± Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª:</div><select id="qtySelect" class="input"><option value="1000" data-price="100">1000 Ù…Ø´Ø§Ù‡Ø¯Ø© â€” 100 Ø¯.Ø¬</option><option value="3000" data-price="280">3000 Ù…Ø´Ø§Ù‡Ø¯Ø© â€” 280 Ø¯.Ø¬</option><option value="5000" data-price="500">5000 Ù…Ø´Ø§Ù‡Ø¯Ø© â€” 500 Ø¯.Ø¬ (Ø®ØµÙ…)</option></select>`; }
  else if(productKey === 'discord-account'){ modalTitle.textContent = 'Ø·Ù„Ø¨ Ø­Ø³Ø§Ø¨ Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯'; modalImg.src = 'https://i.pinimg.com/736x/ed/cb/56/edcb56a35853c07a7ba6348343470526.jpg'; modalBody.innerHTML = `<div class="small-note">Ø§Ø®ØªØ± Ø¹Ù…Ø± Ø§Ù„Ø­Ø³Ø§Ø¨ (Ø³Ù†Ø©)</div><select id="yearsSelect" class="input"><option value="1" data-price="1000">1 Ø³Ù†Ø© â€” 1000 Ø¯.Ø¬</option><option value="2" data-price="2000">2 Ø³Ù†ÙˆØ§Øª â€” 2000 Ø¯.Ø¬</option><option value="3" data-price="3000">3 Ø³Ù†ÙˆØ§Øª â€” 3000 Ø¯.Ø¬</option><option value="4" data-price="4000">4 Ø³Ù†ÙˆØ§Øª â€” 4000 Ø¯.Ø¬</option><option value="5" data-price="5000">5 Ø³Ù†ÙˆØ§Øª â€” 5000 Ø¯.Ø¬</option><option value="6" data-price="6000">6 Ø³Ù†ÙˆØ§Øª â€” 6000 Ø¯.Ø¬</option></select>`; }
  productModal.classList.add('open'); productModal.setAttribute('aria-hidden','false');
}
document.querySelectorAll('.order-btn').forEach(b=>b.addEventListener('click', ()=> openProductModal(b.dataset.product)));
q('#closeModal').addEventListener('click', ()=>{ productModal.classList.remove('open'); productModal.setAttribute('aria-hidden','true'); });
q('#cancel').addEventListener('click', ()=>{ productModal.classList.remove('open'); productModal.setAttribute('aria-hidden','true'); });
q('#confirmAdd').addEventListener('click', ()=>{ if(!currentProduct) return; if(currentProduct==='discord-account'){ const sel=q('#yearsSelect'); const years=Number(sel.value); const price=Number(sel.selectedOptions[0].dataset.price); addToCartItem('discord-acc-'+years,'Ø­Ø³Ø§Ø¨ Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ â€” '+years+' Ø³Ù†Ø©',price,q('#modalImg').src,1); } else { const sel=q('#qtySelect'); const qty=Number(sel.value); const price=Number(sel.selectedOptions[0].dataset.price); addToCartItem(currentProduct+'-'+qty, modalTitle.textContent+' Ã— '+qty, price, q('#modalImg').src,1); } productModal.classList.remove('open'); productModal.setAttribute('aria-hidden','true'); q('#cartSide').classList.add('open'); q('#cartSide').setAttribute('aria-hidden','false'); });

/* keyboard escape close */
window.addEventListener('keydown', e=>{ if(e.key==='Escape'){ productModal.classList.remove('open'); productModal.setAttribute('aria-hidden','true'); q('#cartSide').classList.remove('open'); } });
renderCart();

/* ========== pay modal handling ========== */
function closePayModal(){ q('#payModal').classList.remove('open'); q('#payModal').setAttribute('aria-hidden','true'); }
q('#checkout').addEventListener('click', function(){
  const cartItems = Object.values(cart);
  if(cartItems.length===0){ alert("âš ï¸ Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©ØŒ Ø£Ø¶Ù Ù…Ù†ØªØ¬Ø§Øª Ø£ÙˆÙ„Ø§Ù‹!"); return; }
  const productNames = cartItems.map(i=>i.title+(i.qty>1?(' Ã—'+i.qty):'')).join("ØŒ ");
  const total = cartItems.reduce((s,i)=> s + i.price*i.qty, 0);
  q('#prodName').value = productNames;
  q('#prodPrice').value = formatPrice(total);
  q('#payModal').classList.add('open'); q('#payModal').setAttribute('aria-hidden','false');
});
q('#openPayInline').addEventListener('click', ()=>{ q('#cartSide').classList.add('open'); q('#cartSide').setAttribute('aria-hidden','false'); });
q('#payForm').addEventListener('submit', function(e){ e.preventDefault();
  const name=this.name.value||''; const email=this.email.value||''; const method=this.method.value||''; const product_name=this.prodName.value||''; const product_price=this.prodPrice.value||'';
  emailjs.send("service_jae833s","template_ja011yl",{ user_name:name, user_email:email, payment_method:method, product_name:product_name, product_price:product_price })
  .then(()=>{ alert("âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ù‹Ø§."); cart={}; localStorage.removeItem('best_offers_cart'); renderCart(); closePayModal(); }, (err)=>{ console.error(err); alert("âŒ ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ØŒ Ø­Ø§ÙˆÙ„ Ù„Ø§Ø­Ù‚Ù‹Ø§."); });
});

/* clear cart button */
(function addClearButton(){ const slot=q('#clearSlot'); const clearBtn=document.createElement('button'); clearBtn.innerHTML='ğŸ—‘ï¸ ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø©'; clearBtn.style=`width:100%;padding:12px;border:none;border-radius:10px;background:var(--danger);color:#fff;font-weight:900;cursor:pointer;margin-top:8px;`; clearBtn.onmouseenter=()=> clearBtn.style.opacity='0.92'; clearBtn.onmouseleave=()=> clearBtn.style.opacity='1'; clearBtn.onclick=()=>{ if(Object.values(cart).length===0){ alert("Ø§Ù„Ø³Ù„Ø© Ø¨Ø§Ù„ÙØ¹Ù„ ÙØ§Ø±ØºØ©."); return; } if(confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ ÙØ¹Ù„Ø§Ù‹ ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø©ØŸ")){ cart={}; localStorage.removeItem('best_offers_cart'); renderCart(); alert("ğŸ—‘ï¸ ØªÙ… ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­!"); } }; slot.appendChild(clearBtn); })();

/* ========== Free offer purchase with coins ========== */
const FREE_OFFER_PRICE = 200;
const FREE_OFFER_TITLE = 'Ø­Ø³Ø§Ø¨ Ø³ØªÙŠÙ… (Ù„Ø¹Ø¨Ø© Ù…Ø¬Ù‡ÙˆÙ„Ø©)';
q('#buyFreeOffer').addEventListener('click', ()=>{
  if(coins < FREE_OFFER_PRICE){ alert('âŒ Ù…Ø§ Ø¹Ù†Ø¯ÙƒØ´ Ø¹Ù…Ù„Ø§Øª ÙƒØ§ÙÙŠØ©'); return; }
  // Ù†Ù‚Øµ Ø§Ù„Ø¹Ù…Ù„Ø§Øª ÙˆÙØªØ­ Ø§Ø³ØªÙ…Ø§Ø±Ø© Ø§Ù„Ø¯ÙØ¹ Ù…Ø¹ ØªØ¹Ø¨Ø¦Ø©
  changeCoins(-FREE_OFFER_PRICE);
  alert('âœ… Ù…Ø¨Ø±ÙˆÙƒ! Ø­ØµÙ„Øª Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ â€” Ø¹ÙŠÙ‘Ù† Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¨Ø§Ø´ Ù†ÙƒÙ…Ù„ Ø§Ù„Ø·Ù„Ø¨.');
  q('#prodName').value = FREE_OFFER_TITLE;
  q('#prodPrice').value = `${FREE_OFFER_PRICE} Ø¹Ù…Ù„Ø©`;
  q('#payMethod').value = 'FreeOffer';
  q('#payModal').classList.add('open'); q('#payModal').setAttribute('aria-hidden','false');
});

/* ========== Follow TikTok (open + verify once) ========== */
const followBtn = q('#followTiktok');
function updateFollowButton(){
  if(localStorage.getItem(FOLLOW_KEY)){
    followBtn.textContent = 'âœ… ØªÙ…Øª Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© +200 Ø¹Ù…Ù„Ø©';
    followBtn.disabled = true; followBtn.style.opacity='0.6'; followBtn.style.cursor='not-allowed';
  }
}
followBtn.addEventListener('click', ()=>{
  if(localStorage.getItem(FOLLOW_KEY)){ alert('âœ… Ù„Ù‚Ø¯ Ø£Ø®Ø°Øª Ù…ÙƒØ§ÙØ£ØªÙƒ Ø¨Ø§Ù„ÙØ¹Ù„.'); return; }
  window.open('https://www.tiktok.com/@pm_sx', '_blank');
  followBtn.textContent = 'ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© âœ…'; followBtn.classList.add('btn-primary');
  followBtn.onclick = ()=>{
    if(localStorage.getItem(FOLLOW_KEY)){ alert('âœ… Ù„Ù‚Ø¯ Ø­ØµÙ„Øª Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙƒØ§ÙØ£Ø© Ø¨Ø§Ù„ÙØ¹Ù„.'); return; }
    changeCoins(+200); localStorage.setItem(FOLLOW_KEY,'true');
    followBtn.textContent = 'âœ… ØªÙ…Øª Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© +200 Ø¹Ù…Ù„Ø©'; followBtn.disabled=true; followBtn.style.opacity='0.6'; followBtn.style.cursor='not-allowed';
    alert('ğŸ‰ Ø´ÙƒØ±Ø§Ù‹ Ù„Ù…ØªØ§Ø¨Ø¹ØªÙƒ! ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© 200 Ø¹Ù…Ù„Ø© Ø¥Ù„Ù‰ Ø±ØµÙŠØ¯Ùƒ.');
  };
});
updateFollowButton();

/* ========== Charge Coins modal (open + behavior) ========== */
q('#chargeCoins').addEventListener('click', ()=>{ q('#chargeModal').classList.add('open'); q('#chargeModal').setAttribute('aria-hidden','false'); });
q('#closeCharge').addEventListener('click', ()=>{ q('#chargeModal').classList.remove('open'); q('#chargeModal').setAttribute('aria-hidden','true'); });
q('#cancelCharge').addEventListener('click', ()=>{ q('#chargeModal').classList.remove('open'); q('#chargeModal').setAttribute('aria-hidden','true'); });

q('#confirmCharge').addEventListener('click', ()=>{
  const sel = q('#chargeQty'); const qty = Number(sel.value); const price = Number(sel.selectedOptions[0].dataset.price);
  // show message: Ø§Ù„Ø¢Ù† ØºÙŠØ± Ù†Ø¶ÙŠÙÙ‡Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ â€” ÙŠÙˆØ¬Ù‘Ù‡ Ù„Ø¥Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„ÙƒÙˆØ¯ Ø¨Ø¹Ø¯ Ø§Ù„Ø¯ÙØ¹
  alert(`âœ… ØªÙ… Ø§Ø®ØªÙŠØ§Ø± ${qty} Ø¹Ù…Ù„Ø© Ù…Ù‚Ø§Ø¨Ù„ ${price} Ø¯.Ø¬.\nØ¨Ø¹Ø¯ Ø§Ù„Ø¯ÙØ¹ Ø¹Ø¨Ø± ÙÙ„ÙŠÙƒØ³ÙŠØŒ Ø§Ø³ØªØ¹Ù…Ù„ "Ø§Ø³ØªØ±Ø¯Ø§Ø¯ ÙƒÙˆØ¯ Ø§Ù„Ø¹Ù…Ù„Ø©" ÙˆØ£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø¯ÙØ¹ Ù„ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ø¹Ù…Ù„Ø§ØªÙƒ.`);
  q('#chargeModal').classList.remove('open'); q('#chargeModal').setAttribute('aria-hidden','true');
  // Ù†Ø¹Ø¨Ø¦ Ø§Ù„Ø¥Ø³ØªÙ…Ø§Ø±Ø© Ø¨Ù†ÙØ³ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´Ø­Ù† Ù„Ùˆ Ø­Ø¨Ù‘ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ±Ø³Ù„ Ø·Ù„Ø¨ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
  q('#prodName').value = `${qty} Ø¹Ù…Ù„Ø© â€” Ø´Ø­Ù† ÙÙ„ÙŠÙƒØ³ÙŠ`;
  q('#prodPrice').value = `${price} Ø¯.Ø¬`;
  q('#payMethod').value = 'CoinsCharge';
  // Ù†ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¯ÙØ¹ Ø­ØªÙ‰ ÙŠØ¨Ø¹Ø« Ø¥ÙŠØµØ§Ù„ Ø£Ùˆ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª
  q('#payModal').classList.add('open'); q('#payModal').setAttribute('aria-hidden','false');
});

/* ========== Redeem codes logic ========== */
/* Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„ØµØ­ÙŠØ­Ø© (Ø«Ø§Ø¨ØªØ©) */
const VALID_CODES = {
  'RBEST10K': 150,
  'FFBYSH': 150,
  'SALAHMT5': 150,
  'D5RTT': 150,
  'IMICENN': 150,
  '200K': 150,
  '3000iu': 100   // ğŸ”¥ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙŠØ¹Ø·ÙŠ 100 Ø¹Ù…Ù„Ø© ÙÙ‚Ø·
};

function getUsedCodes(){ try{ return JSON.parse(localStorage.getItem(USED_CODES_KEY)||'[]'); }catch(e){ return []; } }
function setUsedCodes(arr){ localStorage.setItem(USED_CODES_KEY, JSON.stringify(arr)); }

function openRedeemModal(){ q('#redeemModal').classList.add('open'); q('#redeemModal').setAttribute('aria-hidden','false'); q('#redeemInput').value=''; q('#redeemMsg').textContent=''; }
q('#closeRedeemModal').addEventListener('click', ()=>{ q('#redeemModal').classList.remove('open'); q('#redeemModal').setAttribute('aria-hidden','true'); });
q('#redeemCancel').addEventListener('click', ()=>{ q('#redeemModal').classList.remove('open'); q('#redeemModal').setAttribute('aria-hidden','true'); });

q('#redeemBtn').addEventListener('click', ()=>{
  const code = (q('#redeemInput').value||'').trim();
  if(!code){ q('#redeemMsg').textContent = 'âŒ Ø§Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯ Ø£ÙˆÙ„Ø§Ù‹'; q('#redeemMsg').style.color='var(--danger)'; return; }
  const used = getUsedCodes();
  if(used.includes(code)){
    q('#redeemMsg').textContent = 'âŒ Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ ØªÙ… Ø§Ø³ØªØ¹Ù…Ø§Ù„Ù‡ Ù…Ø³Ø¨Ù‚Ø§Ù‹ Ù…Ù† Ø¬Ù‡ØªÙƒ'; q('#redeemMsg').style.color='var(--danger)'; return;
  }
 if(!VALID_CODES[code]){
  q('#redeemMsg').textContent = 'âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„ÙƒÙˆØ¯!';
  q('#redeemMsg').style.color='var(--danger)';
  return;
}
// Ù†Ø§Ø¬Ø­: Ø§Ø¹Ø· Ø§Ù„Ù‚ÙŠÙ…Ø© Ø­Ø³Ø¨ Ø§Ù„ÙƒÙˆØ¯
const reward = VALID_CODES[code];
changeCoins(+reward);

  used.push(code); setUsedCodes(used);
  q('#redeemMsg').textContent = 'âœ… ØªÙ… Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„ÙƒÙˆØ¯! Ø±ØµÙŠØ¯Ùƒ Ø²Ø§Ø¯ Ø¨Ù€ 150 Ø¹Ù…Ù„Ø©'; q('#redeemMsg').style.color='var(--success)';
  // disable redeem button for this code (user-level)
  setTimeout(()=>{ q('#redeemModal').classList.remove('open'); q('#redeemModal').setAttribute('aria-hidden','true'); }, 1200);
});

/* ========== Close free offers X button ========== */
q('#closeFreeOffers').addEventListener('click', ()=> showSection('tiktokSection'));

/* ========== small UX touches ========== */
/* close cart on small screens click outside */
document.addEventListener('click', function(e){
  if(window.innerWidth < 740){
    if(!e.target.closest('.cart-side') && !e.target.closest('#cartBtn')) q('#cartSide').classList.remove('open');
  }
});

/* init: show tiktok section initially */
showSection('tiktokSection');
document.querySelector('#discordSection').style.display = '';

</script>

</body>
</html>
